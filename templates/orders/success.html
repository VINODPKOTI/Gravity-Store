{% extends 'base.html' %}
{% load static %}

{% block title %}Order Placed Successfully! - Aaramba{% endblock %}

{% block content %}
<div class="bg-zinc-50 min-h-screen flex items-center justify-center p-4">
    <div
        class="max-w-2xl w-full bg-white rounded-[3rem] border border-zinc-200 shadow-2xl overflow-hidden text-center p-8 md:p-12 relative">
        <!-- Decoration / Background elements -->
        <div class="absolute top-0 left-0 w-full h-2 bg-zinc-900"></div>
        <div class="absolute -top-24 -right-24 w-48 h-48 bg-zinc-50 rounded-full blur-3xl opacity-50"></div>
        <div class="absolute -bottom-24 -left-24 w-48 h-48 bg-zinc-50 rounded-full blur-3xl opacity-50"></div>

        <!-- Success Icon -->
        <div
            class="w-24 h-24 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-8 animate-in zoom-in spin-in-12 duration-1000">
            <svg class="w-12 h-12 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"></path>
            </svg>
        </div>

        <!-- Text Content -->
        <h1 class="text-3xl md:text-5xl font-black text-zinc-900 mb-4 tracking-tighter">ORDER PLACED!</h1>
        <p class="text-lg text-zinc-500 mb-8 max-w-sm mx-auto font-medium">Thank you for shopping with us. Your order
            has been confirmed and is being prepared for shipment.</p>

        <!-- Order Details Placeholder (Could be dynamic if passed from view) -->
        <div
            class="bg-zinc-50 rounded-2xl border border-zinc-100 p-6 mb-10 flex flex-col md:flex-row items-center justify-center gap-6 md:gap-12">
            <div>
                <p class="text-[10px] font-bold text-zinc-400 uppercase tracking-widest mb-1">Status</p>
                <p class="text-sm font-bold text-zinc-900 bg-white px-3 py-1 rounded-full border border-zinc-200">
                    Confirmed</p>
            </div>
            <div class="hidden md:block w-px h-8 bg-zinc-200"></div>
            <div>
                <p class="text-[10px] font-bold text-zinc-400 uppercase tracking-widest mb-1">Estimated Delivery</p>
                <p class="text-sm font-bold text-zinc-900">3-5 Business Days</p>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <a href="{% url 'products:product_list' %}"
                class="w-full sm:w-auto px-10 py-4 rounded-2xl bg-zinc-900 text-white font-black hover:bg-zinc-800 transition-all shadow-lg hover:shadow-xl active:scale-95 group">
                CONTINUE SHOPPING
            </a>
            <a href="{% url 'orders:order_history' %}"
                class="w-full sm:w-auto px-10 py-4 rounded-2xl bg-white border border-zinc-200 text-zinc-900 font-bold hover:bg-zinc-50 transition-all shadow-sm active:scale-95">
                VIEW ORDER HISTORY
            </a>
        </div>

        <p class="mt-12 text-[10px] text-zinc-400 font-bold uppercase tracking-[0.2em]">Aaramba Premium Shopping
            Experience</p>
    </div>
</div>

<!-- Confetti Effect -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        const duration = 3 * 1000;
        const animationEnd = Date.now() + duration;
        const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

        function randomInRange(min, max) {
            return Math.random() * (max - min) + min;
        }

        const interval = setInterval(function () {
            const timeLeft = animationEnd - Date.now();

            if (timeLeft <= 0) {
                return clearInterval(interval);
            }

            const particleCount = 50 * (timeLeft / duration);
            // since particles fall down, start a bit higher than random
            confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
            confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
        }, 250);

        // One big blast at the center
        confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 }
        });
    });
</script>
{% endblock %}